<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FallenCell Data Collection API - GitHub Pages</title>
    <meta name="description" content="Advanced real-time data collection dashboard with live updates, analytics, and downloadable .txt file generation. Send data from Python scripts and watch it appear instantly.">
    
    <!-- Open Graph tags for social sharing -->
    <meta property="og:title" content="FallenCell Data Collection API">
    <meta property="og:description" content="Real-time data collection with live dashboard and automatic file generation">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fallencell.github.io">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234f46e5'%3E%3Cpath d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'/%3E%3C/svg%3E">
    
    <!-- CSS Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Chart.js for advanced analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Lucide icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Font Awesome for additional icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading FallenCell Data API</h2>
            <p>Initializing real-time dashboard...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-database"></i>
                <span class="brand-text">FallenCell Data API</span>
                <div class="status-indicator">
                    <div class="status-dot status-live"></div>
                    <span class="status-text">Live</span>
                </div>
            </div>
            
            <div class="nav-menu" id="nav-menu">
                <a href="#dashboard" class="nav-link active" data-section="dashboard">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a>
                <a href="#analytics" class="nav-link" data-section="analytics">
                    <i class="fas fa-chart-pie"></i> Analytics
                </a>
                <a href="#api-docs" class="nav-link" data-section="api-docs">
                    <i class="fas fa-code"></i> API Docs
                </a>
                <a href="#downloads" class="nav-link" data-section="downloads">
                    <i class="fas fa-download"></i> Downloads
                </a>
                <a href="https://github.com/fallencell" target="_blank" class="nav-link">
                    <i class="fab fa-github"></i> GitHub
                </a>
            </div>
            
            <div class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Advanced Data Collection API</h1>
            <p class="hero-subtitle">
                Real-time data ingestion with advanced analytics, live visualization, 
                and automated file generation. Built for developers, powered by GitHub Pages.
            </p>
            <div class="hero-buttons">
                <button class="btn btn-primary" onclick="scrollToSection('test-form')">
                    <i class="fas fa-play"></i>
                    Test API Now
                </button>
                <button class="btn btn-outline" onclick="scrollToSection('api-docs')">
                    <i class="fas fa-book"></i>
                    Documentation
                </button>
            </div>
            
            <!-- Live Stats Bar -->
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-value" id="total-entries">0</span>
                    <span class="stat-label">Total Entries</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="today-entries">0</span>
                    <span class="stat-label">Today</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="files-generated">0</span>
                    <span class="stat-label">Files Generated</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="last-update">Never</span>
                    <span class="stat-label">Last Update</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <div class="container">
                <div class="section-header">
                    <h2>Live Data Dashboard</h2>
                    <div class="section-controls">
                        <div class="refresh-indicator">
                            <div class="refresh-dot"></div>
                            <span>Auto-refresh: ON</span>
                        </div>
                        <button class="btn btn-sm btn-outline" onclick="refreshData()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="action-btn" onclick="clearAllData()">
                        <i class="fas fa-trash"></i>
                        Clear Data
                    </button>
                    <button class="action-btn" onclick="exportAllData()">
                        <i class="fas fa-download"></i>
                        Export All
                    </button>
                    <button class="action-btn" onclick="toggleAutoRefresh()">
                        <i class="fas fa-pause" id="auto-refresh-icon"></i>
                        <span id="auto-refresh-text">Pause</span>
                    </button>
                </div>

                <!-- Data Entries Grid -->
                <div class="data-grid" id="data-grid">
                    <div class="no-data" id="no-data">
                        <i class="fas fa-database"></i>
                        <h3>No Data Yet</h3>
                        <p>Waiting for incoming data submissions...</p>
                        <div class="pulse-loader">
                            <div class="pulse-dot"></div>
                            <div class="pulse-dot"></div>
                            <div class="pulse-dot"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>Advanced Analytics</h2>
                    <div class="section-controls">
                        <select class="time-filter" id="time-filter">
                            <option value="24h">Last 24 Hours</option>
                            <option value="7d">Last 7 Days</option>
                            <option value="30d">Last 30 Days</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                </div>
                
                <div class="analytics-grid">
                    <div class="chart-container">
                        <h3>Data Submissions Over Time</h3>
                        <canvas id="timeline-chart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Data Types Distribution</h3>
                        <canvas id="types-chart"></canvas>
                    </div>
                    
                    <div class="metrics-panel">
                        <h3>Key Metrics</h3>
                        <div class="metric-item">
                            <span class="metric-label">Average Entries/Hour</span>
                            <span class="metric-value" id="avg-per-hour">0</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Peak Hour</span>
                            <span class="metric-value" id="peak-hour">N/A</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Data Size (Total)</span>
                            <span class="metric-value" id="total-size">0 KB</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Unique Sources</span>
                            <span class="metric-value" id="unique-sources">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- API Documentation Section -->
        <section id="api-docs" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>API Documentation</h2>
                    <div class="section-controls">
                        <button class="btn btn-sm btn-primary" onclick="copyApiUrl()">
                            <i class="fas fa-copy"></i> Copy API URL
                        </button>
                    </div>
                </div>
                
                <div class="docs-grid">
                    <!-- Endpoint Information -->
                    <div class="docs-card">
                        <h3>Primary Endpoint</h3>
                        <div class="endpoint-info">
                            <span class="method-badge post">POST</span>
                            <code class="endpoint-url" id="api-endpoint">https://your-api-server.com/api/data</code>
                            <button class="copy-btn" onclick="copyToClipboard(document.getElementById('api-endpoint').textContent)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <p class="endpoint-description">
                            Submit JSON data to be processed and stored. The API accepts any valid JSON structure.
                        </p>
                    </div>

                    <!-- Code Examples -->
                    <div class="docs-card full-width">
                        <h3>Implementation Examples</h3>
                        
                        <div class="code-tabs">
                            <button class="tab-btn active" onclick="showCodeExample('python')">Python</button>
                            <button class="tab-btn" onclick="showCodeExample('javascript')">JavaScript</button>
                            <button class="tab-btn" onclick="showCodeExample('curl')">cURL</button>
                            <button class="tab-btn" onclick="showCodeExample('nodejs')">Node.js</button>
                        </div>
                        
                        <div class="code-example active" id="python-example">
                            <div class="code-header">
                                <span>Python Example</span>
                                <button class="copy-btn" onclick="copyCodeExample('python')">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <pre><code id="python-code">import requests
import json
from datetime import datetime
import uuid

# Advanced data payload with metadata
data = {
    "id": str(uuid.uuid4()),
    "timestamp": datetime.now().isoformat(),
    "sensor_data": {
        "temperature": 23.5,
        "humidity": 65.2,
        "pressure": 1013.25
    },
    "location": {
        "latitude": 40.7128,
        "longitude": -74.0060,
        "altitude": 10
    },
    "device_info": {
        "model": "DHT22",
        "firmware": "v2.1.0",
        "battery": 85
    },
    "tags": ["production", "critical", "monitored"]
}

# Send to API with error handling
try:
    response = requests.post(
        "https://your-api-server.com/api/data",
        json=data,
        headers={
            "Content-Type": "application/json",
            "User-Agent": "PythonDataCollector/1.0"
        },
        timeout=10
    )
    
    if response.status_code == 200:
        result = response.json()
        print(f"✓ Data sent successfully!")
        print(f"Entry ID: {result['entry_id']}")
        print(f"Generated file: {result['filename']}")
    else:
        print(f"✗ Error: {response.status_code} - {response.text}")
        
except requests.exceptions.RequestException as e:
    print(f"✗ Request failed: {e}")
</code></pre>
                        </div>
                        
                        <div class="code-example" id="javascript-example">
                            <div class="code-header">
                                <span>JavaScript (Browser)</span>
                                <button class="copy-btn" onclick="copyCodeExample('javascript')">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <pre><code id="javascript-code">// Advanced JavaScript implementation
async function sendDataToAPI(data) {
    const payload = {
        timestamp: new Date().toISOString(),
        sessionId: generateSessionId(),
        userAgent: navigator.userAgent,
        viewport: {
            width: window.innerWidth,
            height: window.innerHeight
        },
        data: data
    };
    
    try {
        const response = await fetch('https://your-api-server.com/api/data', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-Client-Version': '1.0.0'
            },
            body: JSON.stringify(payload)
        });
        
        if (response.ok) {
            const result = await response.json();
            console.log('✓ Data sent successfully:', result);
            showNotification('Data submitted successfully!', 'success');
            return result;
        } else {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
    } catch (error) {
        console.error('✗ Failed to send data:', error);
        showNotification('Failed to send data', 'error');
        throw error;
    }
}

function generateSessionId() {
    return 'session_' + Math.random().toString(36).substr(2, 9);
}

// Example usage
const sampleData = {
    event: 'user_interaction',
    action: 'button_click',
    element: 'submit_form',
    value: 42
};

sendDataToAPI(sampleData);
</code></pre>
                        </div>
                        
                        <div class="code-example" id="curl-example">
                            <div class="code-header">
                                <span>cURL Command</span>
                                <button class="copy-btn" onclick="copyCodeExample('curl')">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <pre><code id="curl-code">#!/bin/bash

# Advanced cURL example with comprehensive headers
curl -X POST "https://your-api-server.com/api/data" \
     -H "Content-Type: application/json" \
     -H "User-Agent: cURL-DataCollector/1.0" \
     -H "X-API-Version: v1" \
     -d '{
       "timestamp": "'$(date -u +%Y-%m-%dT%H:%M:%S.%3NZ)'",
       "source": "bash_script",
       "hostname": "'$(hostname)'",
       "system_info": {
         "os": "'$(uname -s)'",
         "kernel": "'$(uname -r)'",
         "arch": "'$(uname -m)'"
       },
       "metrics": {
         "cpu_usage": 45.2,
         "memory_usage": 78.5,
         "disk_usage": 23.1
       },
       "custom_data": {
         "process_id": "'$$'",
         "script_name": "'$0'",
         "execution_time": "'$(date +%s)'"
       }
     }' \
     --connect-timeout 10 \
     --max-time 30 \
     --retry 3 \
     --retry-delay 2 \
     --show-error \
     --silent \
     --write-out "HTTP Status: %{http_code}\nResponse Time: %{time_total}s\n"
</code></pre>
                        </div>
                        
                        <div class="code-example" id="nodejs-example">
                            <div class="code-header">
                                <span>Node.js (Server)</span>
                                <button class="copy-btn" onclick="copyCodeExample('nodejs')">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <pre><code id="nodejs-code">const axios = require('axios');
const os = require('os');
const { v4: uuidv4 } = require('uuid');

class DataCollector {
    constructor(apiUrl) {
        this.apiUrl = apiUrl;
        this.sessionId = uuidv4();
        this.startTime = Date.now();
    }
    
    async sendData(data, options = {}) {
        const payload = {
            id: uuidv4(),
            timestamp: new Date().toISOString(),
            sessionId: this.sessionId,
            runtime: {
                platform: process.platform,
                nodeVersion: process.version,
                memory: process.memoryUsage(),
                uptime: process.uptime()
            },
            system: {
                hostname: os.hostname(),
                cpus: os.cpus().length,
                arch: os.arch(),
                loadavg: os.loadavg()
            },
            data: data,
            ...options
        };
        
        try {
            const response = await axios.post(this.apiUrl, payload, {
                headers: {
                    'Content-Type': 'application/json',
                    'User-Agent': 'NodeJS-DataCollector/1.0',
                    'X-Session-ID': this.sessionId
                },
                timeout: 10000,
                validateStatus: (status) => status < 400
            });
            
            console.log('✓ Data sent successfully:', response.data);
            return response.data;
            
        } catch (error) {
            if (error.response) {
                console.error(`✗ HTTP Error ${error.response.status}:`, error.response.data);
            } else if (error.request) {
                console.error('✗ Network Error:', error.message);
            } else {
                console.error('✗ Request Error:', error.message);
            }
            throw error;
        }
    }
}

// Usage example
const collector = new DataCollector('https://your-api-server.com/api/data');

const sampleData = {
    event: 'server_metrics',
    metrics: {
        requests_per_second: 150,
        response_time_avg: 45,
        error_rate: 0.02
    },
    alert_level: 'normal'
};

collector.sendData(sampleData);
</code></pre>
                        </div>
                    </div>

                    <!-- Response Format -->
                    <div class="docs-card">
                        <h3>Response Format</h3>
                        <div class="response-example">
                            <h4>Success Response (200)</h4>
                            <pre><code>{
  "status": "success",
  "entry_id": "abc123def456",
  "filename": "data_abc123de.txt",
  "timestamp": "2024-01-15T10:30:45.123Z",
  "size": "1.2 KB",
  "processing_time": "15ms"
}</code></pre>
                        </div>
                        
                        <div class="response-example">
                            <h4>Error Response (400/500)</h4>
                            <pre><code>{
  "status": "error",
  "message": "Invalid JSON data provided",
  "code": "INVALID_JSON",
  "timestamp": "2024-01-15T10:30:45.123Z"
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Downloads Section -->
        <section id="downloads" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>File Downloads</h2>
                    <div class="section-controls">
                        <button class="btn btn-sm btn-primary" onclick="downloadAllFiles()">
                            <i class="fas fa-download"></i> Download All
                        </button>
                        <button class="btn btn-sm btn-outline" onclick="refreshDownloads()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>
                
                <div class="downloads-grid" id="downloads-grid">
                    <!-- Downloads will be populated here -->
                </div>
            </div>
        </section>

        <!-- Test Form Section -->
        <section id="test-form" class="section">
            <div class="container">
                <div class="section-header">
                    <h2>API Testing Console</h2>
                    <p>Test the API with custom JSON data and see results in real-time</p>
                </div>
                
                <div class="test-form-container">
                    <div class="form-side">
                        <div class="form-header">
                            <h3>JSON Data Input</h3>
                            <div class="form-controls">
                                <button class="btn btn-sm btn-outline" onclick="beautifyJSON()">
                                    <i class="fas fa-magic"></i> Format
                                </button>
                                <button class="btn btn-sm btn-outline" onclick="loadExample()">
                                    <i class="fas fa-file-code"></i> Example
                                </button>
                                <button class="btn btn-sm btn-outline" onclick="clearJSON()">
                                    <i class="fas fa-trash"></i> Clear
                                </button>
                            </div>
                        </div>
                        
                        <form id="test-form-element" onsubmit="submitTestData(event)">
                            <div class="json-input-container">
                                <textarea 
                                    id="json-input" 
                                    placeholder="Enter your JSON data here..."
                                    rows="15"
                                >{
  "test": true,
  "message": "Hello from API test console",
  "timestamp": "2024-01-15T10:30:45.123Z",
  "data": {
    "value": 42,
    "status": "active",
    "tags": ["test", "console", "api"]
  }
}</textarea>
                                <div class="json-validation" id="json-validation">
                                    <i class="fas fa-check-circle"></i>
                                    <span>Valid JSON</span>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" id="submit-btn">
                                    <i class="fas fa-paper-plane"></i>
                                    Send Data
                                </button>
                                <div class="form-info">
                                    <span id="data-size">Size: 0 bytes</span>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    <div class="response-side">
                        <div class="response-header">
                            <h3>API Response</h3>
                            <div class="response-status" id="response-status">
                                <span class="status-indicator">Ready</span>
                            </div>
                        </div>
                        
                        <div class="response-container" id="response-container">
                            <div class="response-placeholder">
                                <i class="fas fa-paper-plane"></i>
                                <p>Submit data to see the API response here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>FallenCell Data API</h3>
                    <p>Advanced real-time data collection and analytics platform built for developers.</p>
                    <div class="social-links">
                        <a href="https://github.com/fallencell" target="_blank"><i class="fab fa-github"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#dashboard">Dashboard</a></li>
                        <li><a href="#analytics">Analytics</a></li>
                        <li><a href="#api-docs">API Docs</a></li>
                        <li><a href="#downloads">Downloads</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>API Status</h4>
                    <div class="api-status">
                        <div class="status-item">
                            <span class="status-dot status-live"></span>
                            <span>API: Online</span>
                        </div>
                        <div class="status-item">
                            <span class="status-dot status-live"></span>
                            <span>Database: Connected</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 FallenCell. Built with ❤️ for the developer community.</p>
                <p>Powered by GitHub Pages • Made with HTML, CSS & JavaScript</p>
            </div>
        </div>
    </footer>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>
